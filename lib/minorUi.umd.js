!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).minorUI={},e.Vue)}(this,(function(e,t){"use strict";var l=t.defineComponent({name:"MiCard"});const n={class:"mi-card"},o={key:0,class:"mi-card__header"},i={class:"mi-card__content"};l.render=function(e,l,r,a,s,c){return t.openBlock(),t.createElementBlock("div",n,[e.$slots.header?(t.openBlock(),t.createElementBlock("div",o,[t.renderSlot(e.$slots,"header")])):t.createCommentVNode("v-if",!0),t.createElementVNode("div",i,[t.renderSlot(e.$slots,"default")])])},l.__file="packages/Card/card.vue",l.install=e=>{e.component(l.name||"MiCard",l)};const r=l;var a=t.defineComponent({name:"MiImageList",props:{imgList:Array,showLabel:Boolean,width:{type:Number,default:120}},setup(e,{slots:l}){let n=t.ref(0);const o=t.ref(null);let i=t.ref(0);t.onMounted((()=>{t.nextTick((()=>{const t=o.value;let l=(null==t?void 0:t.offsetWidth)||0;i.value=Math.floor(l/e.width)}))}));const r=t.computed((()=>{let t=e.width+10;return-n.value*t}));return{imagesBoxRef:o,width:e.width,next:()=>{var t;let l=((null==(t=e.imgList)?void 0:t.length)||0)-i.value;n.value<l&&n.value++},prev:()=>{n.value>0&&n.value--},marginLeft:r}}});const s={class:"mi-images",ref:"imagesBoxRef"},c={class:"mi-images__src"},m=["src"],u={key:0,class:"mi-images__txt"};a.render=function(e,l,n,o,i,r){return t.openBlock(),t.createElementBlock("div",s,[t.createElementVNode("div",{class:"mi-images__btn mi-images__prev",onClick:l[0]||(l[0]=(...t)=>e.prev&&e.prev(...t))},"<"),t.createElementVNode("div",{class:"mi-images__content",style:t.normalizeStyle({"margin-left":e.marginLeft+"px"})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.imgList,(l=>(t.openBlock(),t.createElementBlock("div",{class:"mi-images__item",key:"mi_image_list_"+l,style:t.normalizeStyle({width:e.width+"px"})},[t.createElementVNode("div",c,[t.createElementVNode("img",{src:l.src||l,alt:"img"},null,8,m)]),e.showLabel?(t.openBlock(),t.createElementBlock("div",u,[t.renderSlot(e.$slots,"label",{},(()=>[t.createElementVNode("p",null,t.toDisplayString(l.label),1)]))])):t.createCommentVNode("v-if",!0)],4)))),128))],4),t.createElementVNode("div",{class:"mi-images__btn mi-images__next",onClick:l[1]||(l[1]=(...t)=>e.next&&e.next(...t))},">")],512)},a.__file="packages/ImageList/Index.vue",a.install=e=>{e.component(a.name||"MiImageList",a)};const d=a;var v=t.defineComponent({name:"MiVirtualScroll",props:{list:{type:Array,default:()=>[]},height:[Number,String],itemHeight:Number,rows:{type:Number,default:20}},setup(e,{slots:l}){const n=t.ref(null);let o=t.ref(null);const i=t.reactive({start:0,end:0,initHeight:0,scrollTop:0,listHeight:0}),r=e.rows||1;let a=e.itemHeight||0;t.onMounted((()=>{t.nextTick((()=>{e.list.length>0&&t.nextTick((()=>{const t=n.value,l=o.value;i.initHeight=n.value.getBoundingClientRect().top+(null==l?void 0:l.scrollTop),a=t.children&&t.children.length?t.children[0].offsetHeight:0,i.listHeight=a*e.list.length}));const l=o.value;null==l||l.addEventListener("scroll",u)}))}));const s=t.computed((()=>e.height&&e.height.toString().includes("%")?e.height:e.height+"px")),c=t.computed((()=>{const t=e.list;let l=i.start+r;return l>=t.length&&(l=t.length),t.slice(i.start,l).map(((e,t)=>{const l=i.start+t+1;return"string"==typeof e||"number"==typeof e?e={val:e,idx:l}:e.idx=l,e}))}));function m(){const e=o.value,t=(null==e?void 0:e.scrollTop)||0;if(t>i.initHeight){const e=Math.floor((t-i.initHeight)/a);i.scrollTop=e*a,i.start=e}else i.scrollTop=0,i.start=0}function u(){((e,t)=>{let l;return(...n)=>{clearTimeout(l),l=setTimeout((()=>{e(...n)}),t)}})(m,500)()}return t.onUnmounted((()=>{const e=o.value;null==e||e.removeEventListener("scroll",u)})),{scrollWrapRef:o,scrollUlRef:n,state:i,maxHeight:s,listData:c}}});v.render=function(e,l,n,o,i,r){return t.openBlock(),t.createElementBlock("div",{class:"mi-virtual-scroll",ref:"scrollWrapRef",style:t.normalizeStyle({height:e.maxHeight})},[t.createElementVNode("div",{class:"mi-virtual-scroll__warp",ref:"scrollUlRef",style:t.normalizeStyle({height:e.state.listHeight+"px","padding-top":e.state.scrollTop+"px"})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.listData,((l,n)=>(t.openBlock(),t.createElementBlock("div",{class:"mi-virtual-scroll__item",key:"scroll_item"+n},[t.renderSlot(e.$slots,"default",{item:l})])))),128))],4)],4)},v.__scopeId="data-v-33424387",v.__file="packages/VirtualScroll/index.vue",v.install=e=>{e.component(v.name||"MiVirtualScroll",v)};const p=v;var f=t.defineComponent({name:"MiHorTimeline",props:{list:{type:Object,default:()=>{}}},setup(e,{slots:l}){let n=t.ref(0),o=t.ref(0),i=t.ref(0),r=t.ref(0),a=t.ref(!1),s=t.ref(!1),c=t.ref(!1),m=t.ref(null),u=t.ref([]);t.onMounted((()=>{t.nextTick((()=>{f(),k()}))}));const d=t.computed((()=>{let t=[];return Object.keys(e.list).sort(((e,t)=>t-e)).forEach((l=>{const n=e.list[l];t.push({len:n.length,time:l})})),t})),v=t.computed((()=>{let e=0;if(n.value&&o.value){const t=o.value-5;e=(n.value-t)/t}return e})),p=t.computed((()=>{let e="0";return r.value&&n.value&&(e=r.value/n.value*100+"%"),e})),f=()=>{const e=null==u?void 0:u.value;let t=0;e&&(e.forEach((e=>{t+=e.offsetWidth})),n.value=t);const l=m.value;l&&(o.value=(null==l?void 0:l.offsetWidth)||0),i.value=0,r.value=0},g=e=>{const t=n.value-o.value;t<0||(Math.abs(e)>=t?r.value=t:r.value=e>0?0:e,i.value=Math.abs(r.value)/v.value)},h=e=>{const t=o.value-10;i.value=e>=t?t:e<=0?0:e,v.value<0||(r.value=parseFloat("-"+i.value*v.value))},k=()=>{const e=document.querySelector(".time_line_content");e&&(e.addEventListener("DOMMouseScroll",_,!1),e.addEventListener("mousewheel",_,!1))},_=e=>{e.preventDefault(),c.value||(requestAnimationFrame((()=>{const t=e.wheelDelta||e.detail,l=r.value;g(l+t),c.value=!1})),c.value=!0)};return{setTimeItemRef:e=>{u.value.push(e)},timeLineBox:m,timeList:d,boxRate:p,getAllWidth:f,getLineFlex:e=>e+" auto",mousedown:e=>{const t=e.clientX,l=r.value;a.value=!0,document.onmousemove=e=>{if(a.value){const n=e.clientX-t;g(l+n)}},document.onmouseup=()=>{a.value=!1,document.onmousemove=null,document.onmouseup=null}},silderMousedown:e=>{console.log("silderMousedown",e),s.value=!0;const t=e.clientX,l=i.value;document.onmousemove=e=>{if(s.value){const n=e.clientX-t;h(l+n)}},document.onmouseup=()=>{s.value=!1,document.onmousemove=null,document.onmouseup=null}},changeSliderPosition:e=>{h(e.layerX)},scroll:k,allWidth:n,sliderLeft:i}}});const g={class:"mi-timeline",ref:"timeLineBox"},h={key:0,class:"mi-the_line_box"},k={class:"mi-line_text"};f.render=function(e,l,n,o,i,r){return t.openBlock(),t.createElementBlock("div",g,[t.createCommentVNode(" 卡片列表 "),t.createElementVNode("div",{class:"mi-time_line_content",style:t.normalizeStyle({width:e.allWidth+"px",transform:"translateX("+e.boxRate+")"}),onMousedown:l[0]||(l[0]=t=>e.mousedown(t))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.timeList,((l,n)=>(t.openBlock(),t.createElementBlock("ul",{key:"timeline_ul"+l.time+n,class:"mi-time_item_box",ref:"setTimeItemRef"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.list[l.time],((n,o)=>(t.openBlock(),t.createElementBlock("li",{key:"timeline_li"+o+l.time},[t.renderSlot(e.$slots,"default",{item:n,index:o})])))),128))],512)))),128))],36),t.createCommentVNode(" 时间轴 线条 "),e.timeList.length>0?(t.openBlock(),t.createElementBlock("div",h,[t.createElementVNode("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.timeList,((n,o)=>(t.openBlock(),t.createElementBlock("li",{key:"timeline_"+n.time+o,class:"mi-line_item",style:t.normalizeStyle({flex:e.getLineFlex(n.len)})},[t.renderSlot(e.$slots,"time",{item:n,index:o},(()=>[t.createElementVNode("div",{class:"mi-line_fill",onClick:l[1]||(l[1]=t.withModifiers((t=>e.changeSliderPosition(t)),["stop"]))})])),t.createElementVNode("span",k,t.toDisplayString(n.time),1)],4)))),128))]),t.createCommentVNode(" 滑块 "),t.createElementVNode("div",{class:"mi-slider",style:t.normalizeStyle({transform:"translateX("+e.sliderLeft+"px)"}),onMousedown:l[2]||(l[2]=t=>e.silderMousedown(t))},null,36)])):t.createCommentVNode("v-if",!0)],512)},f.__file="packages/HorizontalTimeline/Index.vue",f.install=e=>{e.component(f.name||"MiHorTimeline",f)};const _=f;var y=Object.defineProperty,x=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,b=(e,t,l)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;const L=[r,d,p,_];var M=((e,t)=>{for(var l in t||(t={}))B.call(t,l)&&b(e,l,t[l]);if(x)for(var l of x(t))E.call(t,l)&&b(e,l,t[l]);return e})({install:e=>{L.forEach((t=>e.component(t.name,t)))}},L);e.MiCard=r,e.MiHorTimeline=_,e.MiImageList=d,e.MiVirtualScroll=p,e.default=M,Object.defineProperty(e,"__esModule",{value:!0})}));
